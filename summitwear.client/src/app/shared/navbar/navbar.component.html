<nav [ngClass]="{
    'bg-bgGray border-b border-gray-600': !isScrolled,
    'bg-glass border-transparent shadow-md backdrop-blur-lg': isScrolled,
    'shrink': isScrolled
  }"
     class="fixed top-0 left-0 w-full z-20 transition-all ease-in-out duration-300">
    <div class="max-w-screen-xl mx-auto flex items-center justify-between p-4">
        <!-- Logo -->
        <a href="#" class="flex items-center space-x-3 rtl:space-x-reverse">
            <img src="../../../assets/images/SummitWearNoBg.png"
                 alt="Summit Wear Logo"
                 [ngClass]="{ 'max-h-[120px]': !isScrolled, 'max-h-[90px]': isScrolled }"
                 class="transition-all duration-700" />
        </a>

        <!-- Navigation Links -->
        <div class="hidden md:flex items-center space-x-8 rtl:space-x-reverse">
            <a routerLink="/category/shoes"
               class="flex flex-col items-center text-gray-900 dark:text-white hover:text-blue-600 transition"
               aria-label="Shoes">
                <img src="https://res.cloudinary.com/dm3vmtten/image/upload/v1736001254/bootW_lpsdvx.png"
                     alt="Shoes Icon"
                     class="h-8 w-8" />
                <span class="text-sm">Shoes</span>
            </a>
            <a routerLink="/category/jackets"
               class="flex flex-col items-center text-gray-900 dark:text-white hover:text-blue-600 transition"
               aria-label="Jackets">
                <img src="https://res.cloudinary.com/dm3vmtten/image/upload/v1736001254/jacketW_xad4mi.png"
                     alt="Jackets Icon"
                     class="h-8 w-8" />
                <span class="text-sm">Jackets</span>
            </a>
            <a routerLink="/category/pants"
               class="flex flex-col items-center text-gray-900 dark:text-white hover:text-blue-600 transition"
               aria-label="Pants">
                <img src="https://res.cloudinary.com/dm3vmtten/image/upload/v1736001254/trousersW_dzsicm.png"
                     alt="Pants Icon"
                     class="h-8 w-8" />
                <span class="text-sm">Pants</span>
            </a>
        </div>

        <!-- Mobile Menu & User Links -->
        <div class="flex items-center space-x-3 md:space-x-0">
            <button (click)="toggleMenu()"
                    type="button"
                    class="h-10 w-10 flex items-center justify-center rounded-lg p-2 text-gray-500 hover:bg-gray-100 focus:ring focus:ring-gray-200 dark:text-gray-400 dark:hover:bg-gray-700 dark:focus:ring-gray-600 md:hidden"
                    aria-controls="navbar-sticky"
                    [attr.aria-expanded]="isMenuOpen ? 'true' : 'false'">
                <span class="sr-only">Open main menu</span>
                <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 17 14" class="h-5 w-5">
                    <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M1 1h15M1 7h15M1 13h15" />
                </svg>
            </button>

            <!-- User Links -->
            <div [class.hidden]="!isMenuOpen" id="navbar-sticky" class="absolute top-full left-0 w-full bg-gray-50 border border-gray-100 rounded-lg shadow-md transition duration-300 md:static md:flex md:w-auto md:border-none md:bg-transparent">
                <ul class="flex flex-col p-4 space-y-2 md:flex-row md:space-y-0 md:space-x-8 md:p-0">
                    <li *ngIf="username; else loginLink">
                        <span class="block px-3 py-2 text-gray-900 dark:text-white">Hello, {{ username }}!</span>
                    </li>
                    <ng-template #loginLink>
                        <li>
                            <a [routerLink]="['/login']" routerLinkActive="active" class="block px-3 py-2 text-gray-900 dark:text-white hover:text-blue-600 transition">Login</a>
                        </li>
                    </ng-template>
                    <li>
                        <a [routerLink]="['/catalog']" class="block px-3 py-2 text-gray-900 dark:text-white hover:text-blue-600 transition">Catalog</a>
                    </li>
                    <li>
                        <a [routerLink]="['/privacy']" class="block px-3 py-2 text-gray-900 dark:text-white hover:text-blue-600 transition">Privacy</a>
                    </li>
                    <li *ngIf="isAdmin">
                        <a [routerLink]="['/admin']" routerLinkActive="active" class="block px-3 py-2 text-gray-900 dark:text-white hover:text-blue-600 transition">Admin</a>
                    </li>
                    <li *ngIf="username">
                        <a (click)="logout()" class="block px-3 py-2 text-gray-900 dark:text-white cursor-pointer hover:text-red-600 transition">Logout</a>
                    </li>
                    <!-- Cart Icon with Item Count -->
                    <li class="relative">
                        <a [routerLink]="['/cart']" class="block px-3 py-2 text-gray-900 dark:text-white hover:text-blue-600 transition relative">
                            ðŸ›’ <!-- Cart Icon -->
<!--                             <span *ngIf="cartItemCount$ > 0" class="absolute -top-1 -right-2 bg-red-500 text-white text-xs rounded-full w-5 h-5 flex items-center justify-center">
                                {{ cartItemCount }}
                            </span> -->
                        </a>
                    </li>
                </ul>
            </div>
        </div>
    </div>
</nav>
